!function(){"use strict";angular.module("app.components",["oauth","leaflet-directive"])}(),function(){"use strict";function t(){function t(t){var r={kitName:t.name,kitType:a(t),kitLastTime:moment(o(t)).fromNow(),kitLocation:e(t),kitLabels:n(t),kitClass:s(a(t))};return r}function e(t){var e="",n=t.data.location.city,a=t.data.location.country;return n&&(e+=n),a&&(e+=", "+a),e}function n(t){return{status:t.status,exposure:t.data.location.exposure}}function a(t){var e;return new RegExp("sck","i").test(t.kit.name)&&(e="SmartCitizen Kit"),e}function s(t){return t?t.toLowerCase().split(" ").join("_"):""}function o(t){return t.updated_at}function r(t){return moment(t.recorded_at).format("")}function i(t){return moment(t).format("YYYY-MM-DDThh:mm:ss")+"Z"}var c={parseKit:t,parseKitTime:o,parseSensorTime:r,convertTime:i};return c}angular.module("app.components").factory("utils",t)}(),function(){"use strict";function t(){return{scope:!1,restrict:"E",controller:"SignupController",controllerAs:"vm",templateUrl:"app/components/signup/signup.html"}}angular.module("app.components").directive("signup",t)}(),function(){"use strict";function t(t,e,n,a,s){function o(){e.show({hasBackdrop:!0,controller:"DialogController",templateUrl:"app/components/signup/signupModal.html",clickOutsideToClose:!0}).then(function(){})["finally"](function(){})}function r(t){n.post(t).then(function(){s.success("Signup was successful")})["catch"](function(t){console.log("err",t.data.errors)})}var i=this;i.showSignup=o,i.signup=r,i.errors={}}angular.module("app.components").controller("SignupController",t),t.$inject=["$scope","$mdDialog","user","animation","alert"]}(),function(){"use strict";function t(){function t(){}return{link:t,scope:!0,restrict:"E",templateUrl:"app/components/search/search.html",controller:"SearchController",controllerAs:"vm"}}angular.module("app.components").directive("search",t)}(),function(){"use strict";function t(t,e){function n(){}function a(){}function s(t){return e.globalSearch(t).then(function(t){return 0===t.length?(angular.element(document.body).css("overflow","auto"),t):(angular.element(document.body).css("overflow","hidden"),t.map(function(t){if("Location"!==t.type){var e=o(t),n=r(t);return{type:t.type,name:n,location:e,image:"User"===t.type?"./assets/images/avatar.svg":"./assets/images/kit.svg"}}}))})}function o(t){var e="";return t.city&&(e+=t.city),t.country&&(e+=", "+t.country),e}function r(t){var e="User"===t.type?t.username:t.name;return e?e:"No name"}var i=this;i.searchTextChange=n,i.selectedItemChange=a,i.querySearch=s,i.isIconWhite=!0,t.$on("removeNav",function(){t.$apply(function(){i.isIconWhite=!1})}),t.$on("addNav",function(){t.$apply(function(){i.isIconWhite=!0})})}angular.module("app.components").controller("SearchController",t),t.$inject=["$scope","search"]}(),function(){"use strict";function t(){function t(){}return{link:t,scope:!0,restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm"}}angular.module("app.components").directive("navbar",t)}(),function(){"use strict";function t(t){t.isShown=!0,t.$on("removeNav",function(){t.$apply(function(){t.isShown=!1})}),t.$on("addNav",function(){t.$apply(function(){t.isShown=!0})})}angular.module("app.components").controller("NavbarController",t),t.$inject=["$scope"]}(),function(){"use strict";angular.module("app.components")}(),function(){"use strict";function t(t,e,n,a,s,o,r){function i(t){return t.map(function(t){return c(t,!1)})}function c(t){return t.icon="offline"===t.status?m.icons.smartCitizenOffline:m.icons.smartCitizenOnline,t}function l(){var t={defaultIcon:{},smartCitizenNormal:{type:"div",className:"marker_normal",iconSize:[12,12]},smartCitizenOnline:{type:"div",className:"marker_online",iconSize:[12,12]},smartCitizenOffline:{type:"div",className:"marker_offline",iconSize:[12,12]}};return t}function u(t){return t}var m=this,d=u(s[0]);m.icons=l(),m.tiles={url:"https://a.tiles.mapbox.com/v4/tomasdiez.jnbhcnb2/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidG9tYXNkaWV6IiwiYSI6ImRTd01HSGsifQ.loQdtLNQ8GJkJl2LUzzxVg"},m.center={lat:d.lat,lng:d.lng,zoom:12},m.markers=i(s),m.currentMarker=r.getCurrentMarker(),m.defaults={scrollWheelZoom:!1},m.events={map:{enable:["dragend","zoomend","moveend","popupopen","popupclose","mousedown","dblclick","click","touchstart"],logic:"broadcast"}},t.$on("leafletDirectiveMap.popupopen",function(t,n){m.center={lat:n.leafletEvent.popup._latlng.lat,lng:n.leafletEvent.popup._latlng.lng,zoom:n.model.center.zoom};n.leafletEvent.popup._source.options.myData.id;e.go("home.kit",{id:1616})})}angular.module("app.components").controller("MapController",t),t.$inject=["$scope","$state","$timeout","location","initialMarkers","device","marker"]}(),function(){"use strict";function t(t,e,n,a,s){function o(t){return t.time=moment(a.parseKitTime(t)).fromNow(),t}function r(t){var e=t.data.sensors.map(function(t){var e=t.id,n=i(t),a=c(n),s=l(t),o=m(n),r=d(t),u=p(n),f={id:e,name:n,unit:a,value:s,icon:o,arrow:r,color:u};return"BATTERY"!==n?f:void(P.battery=f)});return e.filter(function(t){return t})}function i(t){var e,n=t.name,a=t.description;return e=new RegExp("custom circuit","i").test(a)?n:new RegExp("noise","i").test(a)?"SOUND":new RegExp("light","i").test(a)?"LIGHT":new RegExp("wifi","i").test(a)?"NETWORKS":new RegExp("co","i").test(a)?"CO":new RegExp("no2","i").test(a)?"NO2":a,e.toUpperCase()}function c(t){var e;switch(t){case"TEMPERATURE":e="°C";break;case"LIGHT":e="LUX";break;case"SOUND":e="DB";break;case"HUMIDITY":case"BATTERY":e="%";break;case"CO":case"NO2":e="KΩ";break;case"NETWORKS":e="#";break;case"SOLAR PANEL":e="V";break;default:e="N/A"}return e}function l(t){var e=t.value;return e?(e=e.toString(),-1!==e.indexOf(".")&&(e=e.slice(0,e.indexOf(".")+3)),e):"N/A"}function u(t){return t.prev_value}function m(t){switch(t){case"TEMPERATURE":return"./assets/images/temperature_icon.svg";case"HUMIDITY":return"./assets/images/humidity_icon.svg";case"LIGHT":return"./assets/images/light_icon.svg";case"SOUND":return"./assets/images/sound_icon.svg";case"CO":return"./assets/images/co_icon.svg";case"NO2":return"./assets/images/no2_icon.svg";case"NETWORKS":return"./assets/images/networks_icon.svg";case"BATTERY":return"./assets/images/battery_icon.svg";case"SOLAR PANEL":return"./assets/images/solar_panel_icon.svg";default:return"./assets/images/avatar.svg"}}function d(t){var e=l(t),n=u(t);return e>n?"./assets/images/arrow_up_icon.svg":n>e?"./assets/images/arrow_down_icon.svg":"./assets/images/equal_icon.svg"}function p(t){switch(t){case"TEMPERATURE":return"#ffc107";case"HUMIDITY":return"#4fc3f7";case"LIGHT":return"#ffee58";case"SOUND":return"#f06292";case"CO":return"#4caf50";case"NO2":return"#8bc34a";case"NETWORKS":return"#9575cd";case"SOLAR PANEL":return"#fff9c4";default:return"black"}}function f(t){var e=angular.element(".sensors_container"),n=e.scrollLeft(),a=20;console.log("scroll",n),"left"===t?e.scrollLeft(n+a):"right"===t&&e.scrollLeft(n-a)}function v(){return P.sensors.filter(function(t){return t.id!==P.selectedSensor})}function g(t,e,n){if(e[0]){if(!E){if(t="date",!n)var n={};n.from=I.getValuePickerFrom(),n.to=I.getValuePickerTo()}"date"===t?h(n.from,n.to).then(function(){P.chartDataMain=_(e)}):"sensor"===t&&(P.chartDataMain=_(e))}}function h(t,n){var a=e.id;return s.getSensorsData(a,t,n).then(function(t){E=t.readings})}function _(t){var e=k(E,t[0]),n={data:e,color:P.selectedSensorData.color,unit:P.selectedSensorData.unit};if(t[1])var a=k(E,t[1]),s={data:a,color:P.selectedSensorToCompareData.color,unit:P.selectedSensorToCompareData.unit};var o=[n,s];return o}function k(t,e){return 0===t.length?[]:t.map(function(t){return{time:t&&t.timestamp,data:t&&t.data[e]}})}function y(t){var e=t.value;void 0!==e&&("main"===t.type?N=e:"compare"===t.type&&(O=e))}function b(){var t=angular.element(".sensor_icon_selected"),e=t.find(".container_parent");e.css("fill",P.selectedSensorData.color)}function w(){var t=angular.element(".sensor_compare").find("md-select-label").find("span");t.css("color",P.selectedSensorToCompareData.color||"white");var e=angular.element(".sensor_compare").find("md-select-label").find(".md-select-icon");e.css("color","white")}function x(){var t=angular.element(".chart_move_left").find("svg");t.find(".fill_container").css("fill","#03252D");var t=angular.element(".chart_move_right").find("svg");t.find(".fill_container").css("fill","#4E656B")}function T(t){return new Date(t).getTime()}function S(){return T(I.getValuePickerTo())-T(I.getValuePickerFrom())}function C(t){var e=S();"left"===t?(I.setValuePickerTo(I.getValuePickerFrom()),I.setValuePickerFrom(T(I.getValuePickerFrom())-e)):"right"===t&&(I.setValuePickerFrom(I.getValuePickerTo()),I.setValuePickerTo(T(I.getValuePickerTo())+e))}function D(){function t(){return T(new Date)}function e(){return T(t()-6048e5)}var n=$("#picker_from").pickadate({container:"body",klass:{holder:"picker__holder picker_container"}}),a=n.pickadate("picker"),s=$("#picker_to").pickadate({container:"body",klass:{holder:"picker__holder picker_container"}}),o=s.pickadate("picker");return a.get("value")&&o.set("min",a.get("select")),o.get("value")&&a.set("max",o.get("select")),a.on("set",function(t){t.select?(o.get("value")&&g("date",[N,O],{from:a.get("value"),to:o.get("value")}),o.set("min",a.get("select"))):"clear"in t&&o.set("min",!1)}),o.on("set",function(t){t.select?(a.get("value")&&g("date",[N,O],{from:a.get("value"),to:o.get("value")}),a.set("max",o.get("select"))):"clear"in t&&a.set("max",!1)}),o.set("max",new Date),a.set("select",e()),o.set("select",t()),{getValuePickerFrom:function(){return a.get("value")},setValuePickerFrom:function(t){a.set("select",t)},getValuePickerTo:function(){return o.get("value")},setValuePickerTo:function(t){o.set("select",t)}}}var N,O,E,P=this,I=D();P.marker=o(n),P.battery,P.sensors=r(n),P.slide=f,P.selectedSensor=P.sensors[0].id,P.selectedSensorData={icon:P.sensors[0].icon,value:P.sensors[0].value,unit:P.sensors[0].unit,color:P.sensors[0].color},P.chartDataMain,P.selectedSensorToCompare,P.selectedSensorToCompareData,P.chartDataCompare,P.getSensorsToCompare=v,P.moveChart=C,t.$watch("vm.selectedSensor",function(t){P.selectedSensorToCompare=void 0,P.selectedSensorToCompareData={},P.chartDataCompare=[],O=void 0,P.sensors.forEach(function(e){e.id===t&&(P.selectedSensorData={icon:e.icon,value:e.value,unit:e.unit,color:e.color})}),setTimeout(function(){b(),w(),y({type:"main",value:t}),g("sensor",[N,O])},100)}),t.$watch("vm.selectedSensorToCompare",function(t){P.sensors.forEach(function(e){e.id===t&&(P.selectedSensorToCompareData={icon:e.icon,color:e.color,unit:e.unit})}),setTimeout(function(){w(),y({type:"compare",value:t}),g("sensor",[N,O])},100)});setTimeout(function(){b(),x()},1e3),function(){var t=angular.element(".kit_time_icon");t.find(".stroke_container").css("stroke","#A4B0B3"),console.log("this",that)}()}angular.module("app.components").controller("KitController",t),t.$inject=["$scope","$stateParams","marker","utils","sensor"]}(),function(){"use strict";function t(){}angular.module("app.components").controller("HomeController",t)}(),function(){"use strict";function t(t,e,n,a){t.answer=function(s){n.post(s).then(function(t){console.log("data",t),a.success("Signup was successful"),e.hide()})["catch"](function(e){console.log("err",e.data.errors),t.errors=e.data.errors})},t.hide=function(){e.hide()},t.cancel=function(){e.cancel()}}angular.module("app.components").controller("DialogController",t),t.$inject=["$scope","$mdDialog","user","alert"]}(),function(){"use strict";function t(t){var e,n=t.name,a=t.description;return e=new RegExp("custom circuit","i").test(a)?n:new RegExp("noise","i").test(a)?"SOUND":new RegExp("light","i").test(a)?"LIGHT":new RegExp("wifi","i").test(a)?"NETWORKS":new RegExp("co","i").test(a)?"CO":new RegExp("no2","i").test(a)?"NO2":a,e.toUpperCase()}function e(t){var e;switch(t){case"TEMPERATURE":e="°C";break;case"LIGHT":e="LUX";break;case"SOUND":e="DB";break;case"HUMIDITY":case"BATTERY":e="%";break;case"CO":case"NO2":e="KΩ";break;case"NETWORKS":e="#";break;case"SOLAR PANEL":e="V";break;default:e="N/A"}return e}function n(t){var e=t.value;return e?(e=e.toString(),-1!==e.indexOf(".")&&(e=e.slice(0,e.indexOf(".")+3)),e):"N/A"}function a(t){return t.prev_value}function s(t){switch(t){case"TEMPERATURE":return"./assets/images/temperature_icon.svg";case"HUMIDITY":return"./assets/images/humidity_icon.svg";case"LIGHT":return"./assets/images/light_icon.svg";case"SOUND":return"./assets/images/sound_icon.svg";case"CO":return"./assets/images/co_icon.svg";case"NO2":return"./assets/images/no2_icon.svg";case"NETWORKS":return"./assets/images/networks_icon.svg";case"BATTERY":return"./assets/images/battery_icon.svg";case"SOLAR PANEL":return"./assets/images/solar_panel_icon.svg";default:return"./assets/images/avatar.svg"}}function o(t){var e=n(t),s=a(t);return e>s?"./assets/images/arrow_up_icon.svg":s>e?"./assets/images/arrow_down_icon.svg":"./assets/images/equal_icon.svg"}function r(t){switch(t){case"TEMPERATURE":return"#ffc107";case"HUMIDITY":return"#4fc3f7";case"LIGHT":return"#ffee58";case"SOUND":return"#f06292";case"CO":return"#4caf50";case"NO2":return"#8bc34a";case"NETWORKS":return"#9575cd";case"SOLAR PANEL":return"#fff9c4";default:return"black"}}angular.module("app.components").factory("Sensor",function(){function a(a){this.id=a.id,this.name=t(a),this.unit=e(this.name),this.value=n(a),this.icon=s(this.name),this.arrow=o(a),this.color=r(this.name)}return a})}(),function(){"use strict";function t(t){var e="",n=t.data.location.city,a=t.data.location.country;return n&&(e+=n),a&&(e+=", "+a),e}function e(t){return{status:t.status,exposure:t.data.location.exposure}}function n(t){var e;return new RegExp("sck","i").test(t.kit.name)&&(e="SmartCitizen Kit"),e}function a(t){return t?t.toLowerCase().split(" ").join("_"):""}function s(t){return t.updated_at}angular.module("app.components").factory("Kit",function(){function o(o){this.name=o.name,this.type=n(o),this.lastTime=moment(s(o)).fromNow(),this.location=t(o),this.labels=e(o),this["class"]=a(n(o))}return o.prototype.getSensorsData=function(){},o})}(),function(){"use strict";function t(){function t(t,a){setTimeout(function(){e(a[0])},1e3),t.$watch("chartData",function(t){if(t&&void 0!==t)if(t[0]&&t[1]){var e=t[0].data,s=e.map(function(t){return{date:y(t.time),count:t&&t.data}});s.sort(function(t,e){return t.date-e.date});var o=t[1].data,r=o.map(function(t){return{date:y(t.time),count:t&&t.data}});r.sort(function(t,e){return t.date-e.date});var i=[s,r],c=[t[0].color,t[1].color],l=[t[0].unit,t[1].unit];n(i,{type:"both",container:a[0],color:c,unit:l})}else if(t[0]){var u=t[0].data,i=u.map(function(t){return{date:y(t.time),count:t&&t.data}});i.sort(function(t,e){return t.date-e.date});var m=t[0].color,d=t[0].unit;n(i,{type:"main",container:a[0],color:m,unit:d})}})}function e(t){u={top:20,right:15,bottom:20,left:40},m=t.clientWidth-u.left-u.right,d=t.clientHeight-u.top-u.bottom,f=d3.time.scale().range([0,m]),v=d3.scale.linear().range([d,0]),g=d3.scale.linear().range([d,0]),D=d3.scale.linear().range([d,0]),y=d3.time.format.utc("%Y-%m-%dT%H:%M:%SZ").parse,h=d3.svg.axis().scale(f).orient("bottom").ticks(5),_=d3.svg.axis().scale(v).orient("left").ticks(5),k=d3.svg.axis().scale(g).orient("right").ticks(5),b=d3.svg.area().interpolate("linear").x(function(t){return f(t.date)}).y0(d).y1(function(t){return v(t.count)}),w=d3.svg.line().interpolate("linear").x(function(t){return f(t.date)}).y(function(t){return v(t.count)}),x=d3.svg.area().interpolate("linear").x(function(t){return f(t.date)}).y0(d).y1(function(t){return g(t.count)}),T=d3.svg.line().interpolate("linear").x(function(t){return f(t.date)}).y(function(t){return g(t.count)}),p=d3.select(t).append("svg").attr("width",m+u.left+u.right).attr("height",d+u.top+u.bottom).append("g").attr("transform","translate("+(u.left-u.right)+","+u.top+")")}function n(t,e){"main"===e.type?a(t,e):"both"===e.type&&s(t,e)}function a(t,e){function n(){var n=d3.bisector(function(t){return t.date}).left,a=f.invert(d3.mouse(this)[0]),s=n(t,a,1),o=t[s-1],r=t[s],u=a-o.date>r.date-a?r:o;$.attr("transform","translate("+f(u.date)+", "+v(u.count)+")"),C.attr("transform","translate("+(f(u.date)+80)+", "+(d3.mouse(this)[1]-20)+")");var m=C.select("text"),d=m.select(".popup_main"),p=(d.select(".popup_value").text(i(u.count)),d.select(".popup_unit").text(e.unit),m.select(".popup_date").text(c(u.date))),g=[d,p];l(N,g)}f.domain(d3.extent(t,function(t){return t.date})),v.domain([.8*d3.min(t,function(t){return t.count}),1.2*d3.max(t,function(t){return t.count})]),p.selectAll("*").remove();var a=(d3.select(".chart_container svg"),p.append("svg:defs").append("svg:linearGradient").attr("id","gradient").attr("y1","0%").attr("x1","0%").attr("y2","100%").attr("x2","100%").attr("spreadMethod","pad"));a.append("svg:stop").attr("offset","0%").attr("stop-color","black").attr("stop-opacity",1),a.append("svg:stop").attr("offset","100%").attr("stop-color","white").attr("stop-opacity",1),p.append("path").datum(t).attr("class","chart_area").attr("fill",e.color).attr("d",b),p.append("path").attr("class","chart_line").attr("stroke",e.color).attr("d",w(t)),p.append("g").attr("class","axis x").attr("transform","translate(0,"+d+")").call(h),p.append("g").attr("class","axis y_left").style("fill",e.color).call(_),p.append("g").attr("class","grid").attr("transform","translate(0,"+d+")").call(o().tickSize(-d,0,0).tickFormat("")),p.append("g").attr("class","grid").call(r().tickSize(-m,0,0).tickFormat("")),$=p.append("g").attr("class","focus").style("display","none"),$.append("circle").style("stroke",e.color).attr("r",4.5);var s=84,u=46;C=p.append("g").attr("class","focus").style("display","none"),N=C.append("rect").attr("width",s).attr("height",u).attr("transform",function(){var t="translate(-42, 5)";return t}).style("stroke","grey").style("stroke-width","0.5").style("fill","white");var g=C.append("text").attr("class",""),k=g.append("tspan").attr("class","popup_main").attr("text-anchor","start").attr("x",-s/2).attr("dx",8).attr("y",u/2).attr("dy",3);k.append("tspan").attr("class","popup_value"),k.append("tspan").attr("class","popup_unit").attr("dx",5),g.append("tspan").attr("class","popup_date").attr("x",-s/2).attr("dx",8).attr("y",u-2).attr("dy",0).attr("text-anchor","start"),p.append("rect").attr("class","overlay").attr("width",m).attr("height",d).on("mouseover",function(){C.style("display",null),$.style("display",null)}).on("mouseout",function(){C.style("display","none"),$.style("display","none")}).on("mousemove",n)}function s(t,e){function n(){var n=d3.bisector(function(t){return t.date}).left,a=f.invert(d3.mouse(this)[0]),s=n(t[1],a,1),o=t[1][s-1],r=t[1][s],u=a-o.date>r.date-a?r:o;S.attr("transform","translate("+f(u.date)+", "+g(u.count)+")");var m=t[0][s-1],d=t[0][s],p=a-m.date>d.date-a?d:m;$.attr("transform","translate("+f(p.date)+", "+v(p.count)+")"),C.attr("transform","translate("+(f(u.date)+80)+", "+(d3.mouse(this)[1]-20)+")");var h=C.select("text"),_=h.select(".popup_main");_.select(".popup_value").text(i(p.count)),_.select(".popup_unit").text(e.unit[0]);var k=h.select(".popup_compare");k.select(".popup_value").text(i(u.count)),k.select(".popup_unit").text(e.unit[1]);var y=h.select(".popup_date").text(c(u.date)),b=[_,k,y];l(N,b)}f.domain(d3.extent(t[0],function(t){return t.date})),v.domain([.8*d3.min(t[0],function(t){return t.count}),1.2*d3.max(t[0],function(t){return t.count})]),g.domain([.8*d3.min(t[1],function(t){return t.count}),1.2*d3.max(t[1],function(t){return t.count})]),p.selectAll("*").remove(),p.append("path").datum(t[0]).attr("class","chart_area").attr("fill",e.color[0]).attr("d",b),p.append("path").datum(t[1]).attr("class","chart_area").attr("fill",e.color[1]).attr("d",x),p.append("path").attr("class","chart_line").attr("stroke",e.color[0]).attr("d",w(t[0])),p.append("path").attr("class","chart_line").attr("stroke",e.color[1]).attr("d",T(t[1])),p.append("g").attr("class","axis x").attr("transform","translate(0,"+d+")").call(h),p.append("g").attr("class","axis y_left").style("fill",e.color[0]).call(_),p.append("g").attr("class","axis y_right").style("fill",e.color[1]).attr("transform","translate("+m+" ,0)").call(k),p.append("g").attr("class","grid").attr("transform","translate(0,"+d+")").call(o().tickSize(-d,0,0).tickFormat("")),p.append("g").attr("class","grid").call(r().tickSize(-m,0,0).tickFormat("")),S=p.append("g").attr("class","focus").style("display","none"),$=p.append("g").attr("class","focus").style("display","none"),S.append("circle").style("stroke",e.color[1]).attr("r",4.5),$.append("circle").style("stroke",e.color[0]).attr("r",4.5);var a=84,s=75;C=p.append("g").attr("class","focus").style("display","none"),N=C.append("rect").attr("width",a).attr("height",s).style("min-width","40px").attr("transform",function(){var t="translate(-42, 5)";return t}).style("stroke","grey").style("stroke-width","0.5").style("fill","white"),C.append("rect").attr("width",8).attr("height",2).attr("transform",function(){return"translate("+(-a/2+4).toString()+", 20)"}).style("fill",e.color[0]),C.append("rect").attr("width",8).attr("height",2).attr("transform",function(){return"translate("+(-a/2+4).toString()+", 45)"}).style("fill",e.color[1]);var u=C.append("text").attr("class",""),y=u.append("tspan").attr("class","popup_main").attr("x",-s/2+7).attr("dx",8).attr("y",s/3).attr("dy",3);y.append("tspan").attr("class","popup_value").attr("text-anchor","start"),y.append("tspan").attr("class","popup_unit").attr("dx",5);var D=u.append("tspan").attr("class","popup_compare").attr("x",-s/2+7).attr("dx",8).attr("y",s/1.5).attr("dy",3);D.append("tspan").attr("class","popup_value").attr("text-anchor","start"),D.append("tspan").attr("class","popup_unit").attr("dx",5),u.append("tspan").attr("class","popup_date").attr("x",-a/2).attr("dx",8).attr("y",s-2).attr("dy",0).attr("text-anchor","start"),p.append("rect").attr("class","overlay").attr("width",m).attr("height",d).on("mouseover",function(){S.style("display",null),$.style("display",null),C.style("display",null)}).on("mouseout",function(){S.style("display","none"),$.style("display","none"),C.style("display","none")}).on("mousemove",n)}function o(){return d3.svg.axis().scale(f).orient("bottom").ticks(5)}function r(){return d3.svg.axis().scale(v).orient("left").ticks(5)}function i(t){if(-1!==t.toString().indexOf(".")){var e=t.toString().split(".");return e[0]+"."+e[1].slice(0,2)}return t.toString().slice(0,2)}function c(t){return moment(t).format("ddd Do MMM YYYY")}function l(t,e){function n(t){return t.node().getBBox()}if(e.length){var a=e.reduce(function(t,e){var a=n(e),s=n(t);return s.width>=a.width?t:e},e[0]),s=2*a.attr("dx");t.attr("width",n(a).width+s)}}var u,m,d,p,f,v,g,h,_,k,y,b,w,x,T,S,$,C,D,N;return{link:t,restrict:"A",scope:{chartData:"="}}}angular.module("app.components").directive("chart",t),t.$inject=["sensor"]}(),function(){"use strict";function t(t){return t.all("users")}angular.module("app.components").factory("user",t),t.$inject=["Restangular"]}(),function(){"use strict";function t(t,e){function n(){return t.all("sensors").getList()}function a(t){t=t}function s(){return r}function o(n,a,s){var a=e.convertTime(a),s=e.convertTime(s);return a&&s?t.one("devices",n).customGET("pg_readings",{from:a,to:s}):t.one("devices",n).customGET("pg_readings")}var r;n().then(function(t){console.log("sensors",t.plain()),a(t)});var i={callAPI:n,setTypes:a,getTypes:s,getSensorsData:o};return i}angular.module("app.components").factory("sensor",t),t.$inject=["Restangular","utils"]}(),function(){"use strict";function t(t,e){function n(t){return e.all("search").getList({q:t})}var a={globalSearch:n};return a}angular.module("app.components").factory("search",t),t.$inject=["$http","Restangular"]}(),function(){"use strict";function t(t){function e(t){s=t}function n(){return s}function a(){t.$broadcast("markerLoaded")}var s,o={setCurrentMarker:e,getCurrentMarker:n,dataLoaded:a};return o}angular.module("app.components").factory("marker",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(){return a().success(function(t){var e=t.loc.split(",");return s={lat:parseFloat(e[0]),lng:parseFloat(e[1])}})}function n(){return s}function a(){return t.jsonp("http://ipinfo.io/?callback=JSON_CALLBACK")}var s;e();var o={getPosition:e,callAPI:a,getPositionObj:n};return o}angular.module("app.components").factory("geolocation",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e){var n="";return n+=e.lat+","+e.lng,t.all("devices").getList({near:n})}function n(){return t.all("devices/world_map").getList()}function a(e){return t.one("devices",e).get()}var s={getDevices:e,getAllDevices:n,getDevice:a};return s}angular.module("app.components").factory("device",t),t.$inject=["Restangular"]}(),function(){"use strict";function t(t){function e(){n()}function n(){o=t.localStorage.getItem("smartcitizen.token")}function a(){return o}function s(){return!!o}var o=null;e();var r={isAuth:s,setCurrentUser:n,getCurrentUser:a};return r}angular.module("app.components").factory("auth",t),t.$inject=["$window"]}(),function(){"use strict";function t(){function t(t,e){t.element=e}function e(t){t.slidePosition=0,t.slideSize=20,this.getTimesSlided=function(){return t.slideSize},this.getPosition=function(){return t.slidePosition*t.slideSize},this.decrementPosition=function(){t.slidePosition-=1},this.incrementPosition=function(){t.slidePosition+=1},this.scrollIsValid=function(e){var n=t.element.scrollLeft();return console.log("scrollpos",n),"left"===e?n>0&&t.slidePosition>=0:"right"===e?300>n:void 0}}return e.$inject=["$scope"],{controller:e,link:t}}function e(){function t(t,e,n,a){var s=angular.element(".sensors_container");e.on("click",function(){a.scrollIsValid("left")&&"left"===n.direction?(a.decrementPosition(),s.scrollLeft(a.getPosition()),console.log(a.getPosition())):a.scrollIsValid("right")&&"right"===n.direction&&(a.incrementPosition(),s.scrollLeft(a.getPosition()),console.log(a.getPosition()))})}return{link:t,require:"^slide-menu",restrict:"A",scope:{direction:"@"}}}angular.module("app.components").directive("slide",e).directive("slideMenu",t),e.$inject=[]}(),function(){"use strict";function t(){function t(t){n=t}function e(){return n}var n,a={setKit:t,getKit:e};return a}angular.module("app.components").factory("layout",t)}(),function(){"use strict";function t(t){function e(){t.$broadcast("blur")}function n(){t.$broadcast("unblur")}function a(){t.$broadcast("removeNav")}function s(){t.$broadcast("addNav")}var o={blur:e,unblur:n,removeNav:a,addNav:s};return o}angular.module("app.components").factory("animation",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(){function t(t,e){t.$watch("moveDown",function(t){t?e.addClass("move_down"):e.removeClass("move_down")})}return{link:t,scope:!1,restrict:"A"}}function e(t,e){function n(n,a){var s=a[0].offsetTop,o=angular.element(".stickNav").height();e(function(){s=a[0].offsetTop,o=angular.element(".stickNav").height()},1e3),angular.element(t).on("scroll",function(){var t=document.body.scrollTop;t+o>=s?(a.addClass("stickMenu"),n.$apply(function(){n.moveDown=!0})):(a.removeClass("stickMenu"),n.$apply(function(){n.moveDown=!1}))})}return{link:n,scope:!1,restrict:"A"}}function n(){function t(t,e){t.$on("blur",function(){e.addClass("blur")}),t.$on("unblur",function(){e.removeClass("blur")})}return{link:t,scope:!1,restrict:"A"}}function a(t){function e(e,n){n.on("focusin",function(){t.removeNav()}),n.on("focusout",function(){t.addNav()});var a=n.find("input");a.on("blur",function(){angular.element(document.body).css("overflow","auto")})}return{link:e}}function s(t,e,n){function a(e,a){{var s=t[0].body.clientHeight,o=angular.element(".stickNav").height();angular.element(".kit_overview").height(),angular.element(".kit_menu").height(),angular.element(".kit_chart").height()}n(function(){var t=angular.element(".kit_overview").height(),e=angular.element(".kit_menu").height(),n=angular.element(".kit_chart").height(),r=s-o-e-t-n;a.css("height",r+"px")})}return{link:a,scope:!0,restrict:"A"}}function o(t,e){function n(t,n){e(function(){{var t=angular.element(".angular-leaflet-map").height(),e=angular.element(".stickNav").height();angular.element(".kit_chart").height()}n.css("margin-top",t+e+"px")})}return{link:n}}angular.module("app.components").directive("moveDown",t).directive("stick",e).directive("blur",n).directive("focus",a).directive("changeMapHeight",s).directive("changeContentMargin",o),t.$inject=[],e.$inject=["$window","$timeout"],a.$inject=["animation"],s.$inject=["$document","layout","$timeout"],o.$inject=["layout","$timeout"]}(),function(){"use strict";function t(t){function e(e,n){function a(t){angular.element(window).scrollTop(t-i.navbar.height-i.kitMenu.height)}function s(t){return c[t]}function o(){var t=angular.element(".md-button.button_active");if(t.length){t.removeClass("button_active");var e=t.find(".stroke_container");e.css("stroke","none"),e.css("stroke-width","1");var n=e.find(".fill_container");n.css("fill","#82A7B0")}}function r(t){var e=angular.element(t);e.addClass("button_active");var n=e.find(".stroke_container");n.css("stroke","white"),n.css("stroke-width","0.01px");var a=n.find(".fill_container");a.css("fill","white")}var i,c=n.children();t(function(){i={navbar:{height:angular.element(".stickNav").height()},kitMenu:{height:angular.element(".kit_menu").height()},kitOverview:{height:angular.element(".kit_overview").height(),offset:angular.element(".kit_overview").offset().top,buttonOrder:0},kitDashboard:{height:angular.element(".kit_chart").height(),offset:angular.element(".kit_chart").offset().top,buttonOrder:1},kitUser:{},kitComments:{}}},1e3);for(var l=0;l<c.length;l++){var u=c[l];angular.element(u).on("click",function(){var t=angular.element(this).index();for(var e in i)if(i[e].buttonOrder===t){var n=i[e].offset;a(n)}})}var m;angular.element(window).on("scroll",function(){var t=document.body.scrollTop,e=t+i.navbar.height+i.kitMenu.height;if("none"!==m&&e<=i.kitOverview.offset){var n=s(i.kitOverview.buttonOrder);o(),m="none"}else if("overview"!==m&&e>=i.kitOverview.offset&&e<=i.kitOverview.offset+i.kitOverview.height){var n=s(i.kitOverview.buttonOrder);o(),r(n),m="overview"}else if("chart"!==m&&e>=i.kitDashboard.offset&&e<=i.kitDashboard.offset+i.kitDashboard.height){var n=s(i.kitDashboard.buttonOrder);o(),r(n),m="chart"}})}return{link:e,restrict:"A"}}angular.module("app.components").directive("activeButton",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t){function e(t){s("success",t)}function n(t){s("error",t)}function a(t){s("info",t)}function s(e,n,a){a=void 0===a?"top":a,t.show({controller:"AlertController",controllerAs:"vm",templateUrl:"app/components/alert/alert"+e+".html",hideDelay:1e4,position:a,locals:{message:n}})}var o={success:e,error:n,info:a};return o}angular.module("app.components").factory("alert",t),t.$inject=["$mdToast"]}(),function(){"use strict";function t(t,e){function n(){t.hide()}var a=this;a.close=n,a.message=e}angular.module("app.components").controller("AlertController",t),t.$inject=["$mdToast","message"]}(),function(){"use strict";angular.module("app.auth",[])}(),angular.module("app",["ngMaterial","ui.router","restangular","app.components","app.auth"]),function(){"use strict";function t(t,e,n,a){t.state("landing",{url:"/",resolve:{location:["geolocation",function(t){var e=t.getPositionObj();return e?e:t.callAPI().then(function(t){var e=t.data.loc.split(","),n={lat:parseFloat(e[0]),lng:parseFloat(e[1])};return n})}],initialMarkers:["$state","device","location",function(t,e,n){return e.getDevices(n).then(function(e){e=e.plain();var n=e[0];t.go("home.kit",{id:n.id})})}]}}).state("home",{url:"","abstract":!0,views:{"":{templateUrl:"app/components/home/template.html"},"map@home":{templateUrl:"app/components/map/map.html",controller:"MapController",controllerAs:"vm"}},resolve:{location:["geolocation",function(t){return t.callAPI().then(function(t){var e=t.data.loc.split(","),n={lat:parseFloat(e[0]),lng:parseFloat(e[1])};
return n})}],sensorTypes:["sensor",function(t){return t.callAPI().then(function(t){return t=t.plain()})}],initialMarkers:["$state","device","location","utils","sensorTypes","Kit",function(t,e,n,a){return e.getDevices(n).then(function(t){t=t.plain();var e=t.map(function(t){var e=a.parseKit(t),n={lat:t.data.location.latitude,lng:t.data.location.longitude,message:'<div class="popup"><div class="popup_top '+e.kitClass+'"><p class="popup_name">'+e.kitName+'</p><p class="popup_type">'+e.kitType+'</p><p class="popup_time"><md-icon md-svg-src="./assets/images/update_icon.svg"></md-icon>'+e.kitLastTime+'</p></div><div class="popup_bottom"><p class="popup_location"><md-icon md-svg-src="./assets/images/location_icon.svg"></md-icon>'+e.kitLocation+'</p><div class="popup_labels"><span>'+e.kitLabels.status+"</span><span>"+e.kitLabels.exposure+"</span></div></div></div>",status:t.status,myData:{id:t.id}};return n});return e})}],initialPopup:["leafletData","initialMarkers",function(t,e){var n=e[0].myData.id;t.getMap().then(function(t){for(var e in t._layers)if(t._layers[e].options.myData){var a=t._layers[e].options.myData.id;a===n&&angular.element(t._layers[e]._icon).click()}})}]}}).state("home.kit",{url:"/kits/:id",views:{"container@home":{templateUrl:"app/components/kit/kit.html",controller:"KitController",controllerAs:"vm"}},resolve:{marker:["$stateParams","device","marker",function(t,e,n){return e.getDevice(t.id).then(function(t){return t=t.plain(),n.setCurrentMarker(t),n.dataLoaded(),t})}]}}),e.otherwise("/"),n.html5Mode({enabled:!0,requireBase:!1}).hashPrefix("!"),a.setBaseUrl("https://new-api.smartcitizen.me/v0")}angular.module("app").config(t),t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","RestangularProvider"]}(),angular.module("app").run(["$templateCache",function(t){t.put("app/components/alert/alerterror.html",'<md-toast class="red"><md-icon md-svg-src="./assets/images/alert_icon.svg" alt="Insert Drive Icon" class="alert_icon"></md-icon><span flex="">{{ vm.message }}</span><md-button ng-click="vm.close()"><md-icon md-svg-src="./assets/images/close_icon_black.svg" alt="Insert Drive Icon" class="close_icon"></md-icon></md-button></md-toast>'),t.put("app/components/alert/alertinfo.html",'<md-toast class="blue"><md-icon md-svg-src="./assets/images/alert_icon.svg" alt="Insert Drive Icon" class="alert_icon"></md-icon><span flex="">{{ vm.message }}</span><md-button ng-click="vm.close()"><md-icon md-svg-src="./assets/images/close_icon_black.svg" alt="Insert Drive Icon" class="close_icon"></md-icon></md-button></md-toast>'),t.put("app/components/alert/alertsuccess.html",'<md-toast class="green"><md-icon md-svg-src="./assets/images/alert_icon.svg" alt="Insert Drive Icon" class="alert_icon"></md-icon><span flex="">{{ vm.message }}</span><md-button ng-click="vm.close()"><md-icon md-svg-src="./assets/images/close_icon_black.svg" alt="Insert Drive Icon" class="close_icon"></md-icon></md-button></md-toast>'),t.put("app/components/home/home.html",'<div layout="vertical" layout-fill=""><md-content><section class="content"><section class="map"><h1>Here\'s the map</h1></section><section class="kit_data"><section class="kit_menu" layout="row" layout-align="center center" stick=""><p>Bar with kit info</p></section><section class="kit_fixed" move-down=""><section class="kit_overview" layout="row" layout-align="center center"><p>Kit data overview</p></section><section class="kit_detailed" layout="row" layout-align="center center"><section class="kit_chart"><p>Here it\'s the data</p></section></section></section></section></section></md-content></div>'),t.put("app/components/home/template.html",'<div layout="vertical" layout-fill=""><md-content><section class="content"><div ui-view="map" class="map_state"></div><div ui-view="container" class="kit"></div></section></md-content></div>'),t.put("app/components/kit/kit.html",'<section class="kit_data" change-content-margin=""><section class="kit_menu" layout="row" layout-align="center center" stick=""><div class="container"><div class="kit_user"><md-icon md-svg-src="{{ vm.marker.owner.avatar || \'./assets/images/avatar.svg\'}}"></md-icon><span>{{ vm.marker.owner.username}}</span></div><div class="kit_name"><md-icon md-svg-src="./assets/images/sensor_icon.svg"></md-icon><span>{{ vm.marker.name }}</span></div><div class="kit_battery"><md-icon md-svg-src="{{ vm.battery.icon }}"></md-icon><span>{{ vm.battery.value }} {{ vm.battery.unit }}</span></div><div class="kit_navbar" active-button=""><md-button href="#" class="md-flat chart_icon" aria-label=""><md-icon md-svg-src="./assets/images/chart_icon.svg"></md-icon></md-button><md-button href="#" class="md-flat kit_details_icon" aria-label=""><md-icon md-svg-src="./assets/images/kit_details_icon.svg"></md-icon></md-button><md-button href="#" class="md-flat user_details" aria-label=""><md-icon md-svg-src="./assets/images/user_details_icon.svg"></md-icon></md-button><md-button href="#" class="md-flat discussion_icon" aria-label=""><md-icon md-svg-src="./assets/images/discussion_icon.svg"></md-icon></md-button><md-button href="#" class="md-flat shape_icon" aria-label=""><md-icon md-svg-src="./assets/images/shape_icon.svg"></md-icon></md-button></div></div></section><section class="kit_fixed" move-down=""><section class="kit_overview"><md-button ng-click="vm.slide(\'right\')" class="md-flat button_scroll button_scroll_left" layout="column" layout-align="center center" aria-label=""><md-icon md-svg-src="./assets/images/arrow_left_icon.svg"></md-icon></md-button><div class="sensors_container" layout="row" layout-align="center center"><div ng-repeat="sensor in vm.sensors" class="sensor_container"><md-icon md-svg-src="{{ sensor.icon }}" class="sensor_icon"></md-icon><div class="sensor_value">{{ sensor.value }}</div><div class="sensor_right"><div class="sensor_unit">{{ sensor.unit }}</div><md-icon md-svg-src="{{ sensor.arrow }}" class="sensor_arrow"></md-icon></div><div class="clear"></div><div class="sensor_name">{{ sensor.name }}</div></div></div><md-button ng-click="vm.slide(\'left\')" class="md-flat button_scroll button_scroll_right" layout="column" layout-align="center center" aria-label=""><md-icon md-svg-src="./assets/images/arrow_right_icon.svg"></md-icon></md-button></section><section class="kit_detailed"><section class="kit_chart"><div class="container"><div class="kit_chart_left"><div class="sensor_select"><md-icon md-svg-src="{{ vm.selectedSensorData.icon }}" class="sensor_icon_selected"></md-icon><md-select placeholder="Choose sensor" ng-model="vm.selectedSensor"><md-option ng-repeat="sensor in vm.sensors" ng-value="{{sensor.id}}" ng-selected="$first"><img class="select_image" src="{{ sensor.icon }}"> <span>{{ sensor.name }}</span></md-option></md-select></div><div class="sensor_data"><span class="sensor_value">{{ vm.selectedSensorData.value }}<span><span class="sensor_unit">{{ vm.selectedSensorData.unit }}</span></span></span></div><div class="sensor_description"><h6>{{ vm.sensors[vm.selectedSensor].name }}</h6><p>Lorep ipsum Lorep ipsumLorep ipsumLorep ipsumLorep ipsumLorep ipsumLorep ipsum <a href="#">More info</a></p></div><div class="sensor_compare"><p><span>Compare with</span><md-select placeholder="NONE" ng-model="vm.selectedSensorToCompare"><md-option ng-repeat="sensor in vm.getSensorsToCompare()" ng-value="{{sensor.id}}"><img class="select_image" src="{{ sensor.icon }}"> <span class="sensor_name">{{ sensor.name }}</span></md-option></md-select></p></div></div><div class="kit_chart_right"><div class="chart_navigation"><div class="kit_time"><md-icon class="kit_time_icon" md-svg-src="./assets/images/update_icon.svg"></md-icon>{{ vm.marker.time }}</div><div class="picker_container"><label for="picker_from">From:</label> <input type="text" id="picker_from" class="date_picker" placeholder="FROM"></div><div class="picker_container"><label for="picker_to">To:</label> <input type="text" id="picker_to" class="date_picker" placeholder="TO"></div><div class="chart_move"><md-button href="#" ng-click="vm.moveChart(\'left\')" class="chart_move_button chart_move_left" aria-label=""><md-icon md-svg-src="./assets/images/arrow_left_icon.svg"></md-icon></md-button><md-button href="#" ng-click="vm.moveChart(\'right\')" class="chart_move_button chart_move_right" aria-label=""><md-icon md-svg-src="./assets/images/arrow_right_icon.svg"></md-icon></md-button></div></div><div style="clear: both"></div><div chart="" class="chart_container" chart-data="vm.chartDataMain"></div></div></div></section></section></section></section>'),t.put("app/components/map/map.html",'<section class="map" change-map-height=""><leaflet center="vm.center" tiles="vm.tiles" markers="vm.markers" defaults="vm.defaults" event-broadcast="vm.events" width="100%" height="100%"></leaflet></section>'),t.put("app/components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="end center" class="stickNav"><a href="/" class="logo_link"><md-icon md-svg-src="./assets/images/LogotipoSmartCitizen.svg" alt="Insert Drive Icon" class="logo_icon"></md-icon></a><section layout="row" class="nav_left" layout-align="space-around center"><md-button ng-show="isShown" href="#" class="md-flat full_height map"><md-icon md-svg-src="./assets/images/map_icon.svg" class="nav_icon"></md-icon><span>Map</span></md-button><md-button ng-show="isShown" href="#" class="md-flat full_height community"><md-icon md-svg-src="./assets/images/community_icon.svg" class="nav_icon"></md-icon><span>Community</span></md-button></section><search flex=""></search><section layout="row" class="nav_right" layout-align="space-around center"><md-button ng-show="isShown" href="#" class="md-flat full_height get">Get your Kit</md-button><md-button class="md-flat full_height log" ng-show="isShown">Log In</md-button><signup class="md-display-1" ng-show="isShown"></signup></section></md-toolbar>'),t.put("app/components/search/search.html",'<div class="search_icon"><md-icon md-svg-src="./assets/images/search_icon_white.svg" ng-show="vm.isIconWhite"></md-icon><md-icon md-svg-src="./assets/images/search_icon_black.svg" ng-show="!vm.isIconWhite"></md-icon></div><md-autocomplete md-selected-item="vm.selectedItem" md-selected-item-change="vm.selectedItemChange(item)" md-search-text="vm.searchText" md-search-text-change="vm.searchTextChange(vm.searchText)" md-items="item in vm.querySearch(vm.searchText)" md-item-text="" placeholder="Search" md-delay="400" focus=""><md-item-template><md-icon md-svg-src="{{ item.image }}" class="result_icon"></md-icon><span class="result_name">{{ item.name }}</span> <span class="result_location">{{ item.location }}</span></md-item-template></md-autocomplete>'),t.put("app/components/signup/signup.html",'<md-button ng-click="vm.showSignup($event)">Sign Up</md-button>'),t.put("app/components/signup/signupModal.html",'<md-dialog><md-dialog-content class="modal signup"><div><md-button class="close_icon"><md-icon md-svg-icon="./assets/images/close_icon_blue.svg" ng-click="cancel()" class=""></md-icon></md-button><h2>SIGN UP</h2><div class="modal_message"><p>People looking for a better city</p><p>You\'re part of them? Feel free to join us!</p></div><div layout="" layout-sm="column" class="field"><md-input-container flex=""><label>Username</label> <input type="text" ng-model="vm.user.username"></md-input-container><p class="errors" ng-show="!!errors.username.length"><span ng-repeat="error in errors.username">Username {{ error }}<span ng-if="!$last">,</span></span></p></div><div layout="" layout-sm="column" class="field"><md-input-container flex=""><label>Password</label> <input type="password" ng-model="vm.user.password"></md-input-container><p class="errors" ng-show="!!errors.password.length"><span ng-repeat="error in errors.password">Password {{ error }}<span ng-if="!$last">,</span></span></p></div><div layout="" layout-sm="column" class="field"><md-input-container flex=""><label>Email</label> <input type="email" ng-model="vm.user.email"></md-input-container><p class="errors" ng-show="!!errors.email.length"><span ng-repeat="error in errors.email">Email {{ error }}<span ng-if="!$last">,</span></span></p></div></div><md-button class="md-raised md-primary main" ng-click="answer(vm.user)">Sign up</md-button></md-dialog-content><p class="message_below"><span class="message_below_question">Already have an account?</span><md-button class="message_below_link">LOG IN</md-button></p></md-dialog>')}]);