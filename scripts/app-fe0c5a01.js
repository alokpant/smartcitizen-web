!function(){"use strict";angular.module("app.components",["oauth"])}(),function(){"use strict";function n(){return{scope:!1,restrict:"E",controller:"SignupController",controllerAs:"vm",templateUrl:"app/components/signup/signup.html"}}angular.module("app.components").directive("signup",n)}(),function(){"use strict";function n(n,t,e,o){function a(n){o.blur(),t.show({controller:DialogController,templateUrl:"app/components/signup/signupModal.html",targetEvent:n}).then(function(n){s(n)})["finally"](function(){o.unblur()})}function s(n){e.post(n).then(function(){})}var i=this;i.showSignup=a,i.signup=s}angular.module("app.components").controller("SignupController",n),n.$inject=["$scope","$mdDialog","user","animation"]}(),function(){"use strict";function n(){function n(){}return{link:n,scope:!0,restrict:"E",templateUrl:"app/components/search/search.html",controller:"SearchController",controllerAs:"vm"}}angular.module("app.components").directive("search",n)}(),function(){"use strict";function n(n,t){function e(){}function o(){}function a(n){return t.globalSearch(n).then(function(n){return 0===n.length?n:n.map(function(n){if("Location"!==n.type){var t=s(n),e=i(n);return{type:n.type,name:e,location:t,image:"User"===n.type?"./assets/images/avatar.svg":"./assets/images/kit.svg"}}})})}function s(n){var t="";return n.city&&(t+=n.city),n.country&&(t+=", "+n.country),t}function i(n){var t="User"===n.type?n.username:n.name;return t?t:"No name"}var c=this;c.searchTextChange=e,c.selectedItemChange=o,c.querySearch=a,c.isIconWhite=!0,n.$on("removeNav",function(){n.$apply(function(){c.isIconWhite=!1})}),n.$on("addNav",function(){n.$apply(function(){c.isIconWhite=!0})})}angular.module("app.components").controller("SearchController",n),n.$inject=["$scope","search"]}(),function(){"use strict";function n(){function n(){}return{link:n,scope:!0,restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm"}}angular.module("app.components").directive("navbar",n)}(),function(){"use strict";function n(n){n.isShown=!0,n.$on("removeNav",function(){n.$apply(function(){n.isShown=!1})}),n.$on("addNav",function(){n.$apply(function(){n.isShown=!0})})}angular.module("app.components").controller("NavbarController",n),n.$inject=["$scope"]}(),function(){"use strict";angular.module("app.components")}(),function(){"use strict";function n(){}angular.module("app.components").controller("HomeController",n)}(),function(){"use strict";function n(n,t){n.answer=function(n){t.hide(n)},n.hide=function(){t.hide()}}angular.module("app.components").controller("DialogController",n),n.$inject=["$scope","$mdDialog"]}(),function(){"use strict";function n(n){return n.all("users")}angular.module("app.components").factory("user",n),n.$inject=["Restangular"]}(),function(){"use strict";function n(n,t){function e(n){return t.all("search").getList({q:n})}var o={globalSearch:e};return o}angular.module("app.components").factory("search",n),n.$inject=["$http","Restangular"]}(),function(){"use strict";function n(n){return n.jsonp("http://ipinfo.io/?callback=JSON_CALLBACK")}angular.module("app.components").factory("geolocation",n),n.$inject=["$http"]}(),function(){"use strict";function n(n){function t(){e()}function e(){s=n.localStorage.getItem("smartcitizen.token")}function o(){return s}function a(){return!!s}var s=null;t();var i={isAuth:a,setCurrentUser:e,getCurrentUser:o};return i}angular.module("app.components").factory("auth",n),n.$inject=["$window"]}(),function(){"use strict";function n(n){function t(){n.$broadcast("blur")}function e(){n.$broadcast("unblur")}function o(){n.$broadcast("removeNav")}function a(){n.$broadcast("addNav")}var s={blur:t,unblur:e,removeNav:o,addNav:a};return s}angular.module("app.components").factory("animation",n),n.$inject=["$rootScope"]}(),function(){"use strict";function n(){function n(n,t){n.$watch("moveDown",function(n){n?t.addClass("move_down"):t.removeClass("move_down")})}return{link:n,scope:!1,restrict:"A"}}function t(n){function t(t,e){var o=e[0].offsetTop,a=64;angular.element(n).on("scroll",function(){var n=document.body.scrollTop;n+a>=o?(e.addClass("stickMenu"),t.$apply(function(){t.moveDown=!0})):(e.removeClass("stickMenu"),t.$apply(function(){t.moveDown=!1}))})}return{link:t,scope:!1,restrict:"A"}}function e(){function n(n,t){n.$on("blur",function(){t.addClass("blur")}),n.$on("unblur",function(){t.removeClass("blur")})}return{link:n,scope:!1,restrict:"A"}}function o(n){function t(t,e){e.on("focusin",function(){n.removeNav()}),e.on("focusout",function(){n.addNav()})}return{link:t}}angular.module("app.components").directive("moveDown",n).directive("stick",t).directive("blur",e).directive("focus",o),t.$inject=["$window"],o.$inject=["animation"]}(),function(){"use strict";angular.module("app.auth",[])}(),angular.module("app",["ngMaterial","ui.router","restangular","app.components","app.auth"]),function(){"use strict";function n(n,t,e,o){n.state("home",{url:"/",templateUrl:"app/components/home/home.html",controller:"HomeController",controllerAs:"vm"}).state("test",{url:"/test",templateUrl:"app/core/html/passwordRecovery.html"}),t.otherwise("/"),e.html5Mode({enabled:!0,requireBase:!1}).hashPrefix("!"),o.setBaseUrl("https://new-api.smartcitizen.me/v0")}angular.module("app").config(n),n.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","RestangularProvider"]}(),angular.module("app").run(["$templateCache",function(n){n.put("app/components/home/home.html",'<div layout="vertical" layout-fill=""><md-content><section class="content"><section class="map"><h1>Here\'s the map</h1></section><section class="kit_data"><section class="kit_menu" layout="row" layout-align="center center" stick=""><p>Bar with kit info</p></section><section class="kit_fixed" move-down=""><section class="kit_overview" layout="row" layout-align="center center"><p>Kit data overview</p></section><section class="kit_detailed" layout="row" layout-align="center center"><section class="kit_dashboard"><p>Here it\'s the data</p></section></section></section></section></section></md-content></div>'),n.put("app/components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="end center" class="stickNav"><section flex="" layout="row" layout-align="space-around center"><a href="/" flex="20" class="logo_link"><md-icon md-svg-src="./assets/images/LogotipoSmartCitizen.svg" alt="Insert Drive Icon" class="logo_icon"></md-icon></a><md-button flex="" href="#" class="md-flat"><md-icon md-svg-src="./assets/images/map_icon.svg" ng-show="isShown" class="nav_icon"></md-icon><span ng-show="isShown">Map</span></md-button><md-button flex="" href="#" class="md-flat"><md-icon md-svg-src="./assets/images/community_icon.svg" ng-show="isShown" class="nav_icon"></md-icon><span ng-show="isShown">Community</span></md-button></section><search flex="40"></search><section flex="" layout="row" layout-align="space-around center"><md-button flex="" href="#" class="md-flat" ng-show="isShown">Get your Kit</md-button><md-button flex="" class="md-flat" ng-show="isShown">Log In</md-button><signup flex="" class="md-display-1" ng-show="isShown"></signup></section></md-toolbar>'),n.put("app/components/search/search.html",'<div class="search_icon"><img src="./assets/images/search_icon_white.svg" ng-show="vm.isIconWhite"> <img src="./assets/images/search_icon_black.svg" ng-show="!vm.isIconWhite"></div><md-autocomplete md-selected-item="vm.selectedItem" md-selected-item-change="vm.selectedItemChange(item)" md-search-text="vm.searchText" md-search-text-change="vm.searchTextChange(vm.searchText)" md-items="item in vm.querySearch(vm.searchText)" md-item-text="" placeholder="Search" md-delay="400" focus=""><md-item-template><md-icon md-svg-src="{{ item.image }}" class="result_icon"></md-icon><span class="result_name">{{ item.name }}</span> <span class="result_location">{{ item.location }}</span></md-item-template></md-autocomplete>'),n.put("app/components/signup/signup.html",'<md-button ng-click="vm.showSignup($event)">Sign Up</md-button>'),n.put("app/components/signup/signupModal.html",'<md-dialog><md-dialog-content class="modal signup"><div><img ng-src="./assets/images/map_icon.svg" ng-click="hide()" class="close_icon"><h2>SIGN UP</h2><div class="modal_message"><p>People looking for a better city</p><p>You\'re part of them? Feel free to join us!</p></div><div layout="" layout-sm="column"><md-input-container flex=""><label>Username</label> <input type="text" ng-model="vm.user.username"></md-input-container></div><div layout="" layout-sm="column"><md-input-container flex=""><label>Password</label> <input type="password" ng-model="vm.user.password"></md-input-container></div><div layout="" layout-sm="column"><md-input-container flex=""><label>Email</label> <input type="email" ng-model="vm.user.email"></md-input-container></div></div><md-button class="md-raised md-primary" ng-click="answer(vm.user)">Sign up</md-button></md-dialog-content><p class="message_below"><span class="message_below_question">Already have an account?</span><md-button class="message_below_link">LOG IN</md-button></p></md-dialog>')}]);